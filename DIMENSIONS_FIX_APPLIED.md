# üìê –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ –¥–ª—è —Ä–æ—Ç–∞—Ü–∏–∏ 90¬∞/270¬∞

## üîç **–ü—Ä–æ–±–ª–µ–º–∞**

**–°–∏–º–ø—Ç–æ–º**: –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö —Å `/Rotate=90/270` –ø–µ—á–∞—Ç—å —Å—Ç–∞–Ω–æ–≤–∏–ª–∞—Å—å "—É–∂–∞—Ç–æ–π" –∏ —Å–º–µ—â–∞–ª–∞—Å—å –≤–Ω–∏–∑.

**–ü—Ä–∏—á–∏–Ω–∞**: –î–ª—è —Ä–æ—Ç–∞—Ü–∏–∏ 90¬∞/270¬∞ –º—ã –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–ª–∏ —Ç–æ–ª—å–∫–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã `x/y`, –Ω–æ –Ω–µ –º–µ–Ω—è–ª–∏ –º–µ—Å—Ç–∞–º–∏ —à–∏—Ä–∏–Ω—É –∏ –≤—ã—Å–æ—Ç—É `w/h`. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ –ø–µ—á–∞—Ç–∏ —Ä–∏—Å–æ–≤–∞–ª—Å—è –∫–∞–∫ –±—É–¥—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –ø–æ–≤–µ—Ä–Ω—É—Ç–∞.

## üîß **–†–µ—à–µ–Ω–∏–µ**

### **–°—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥ (–ø—Ä–æ–±–ª–µ–º–Ω—ã–π):**
```python
def normalize_coords_for_page(page, x, y, w, h):
    # –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–ª–∏ —Ç–æ–ª—å–∫–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, –Ω–æ –Ω–µ —Ä–∞–∑–º–µ—Ä—ã
    if rot == 90:
        x2 = y
        y2 = pw - (x + w)
        # w2 = w  # ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!
        # h2 = h  # ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!
```

### **–ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥ (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π):**
```python
def normalize_rect_visual_to_user(page, x, y, w, h):
    """x,y,w,h ‚Äî –∂–µ–ª–∞–µ–º—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ pt –û–¢ –í–ò–ó–£–ê–õ–¨–ù–û–ì–û –Ω–∏–∂–Ω–µ–≥–æ-–ª–µ–≤–æ–≥–æ —É–≥–ª–∞"""
    if rot == 0:
        x2, y2, w2, h2 = x, y, w, h
    elif rot == 90:
        # –≤–∏–∑—É–∞–ª—å–Ω—ã–π (x,y,w,h) -> user space –±–µ–∑ –ø–æ–≤–æ—Ä–æ—Ç–∞ overlay
        # –æ—Å–∏ –º–µ–Ω—è—é—Ç—Å—è –º–µ—Å—Ç–∞–º–∏: —à–∏—Ä–∏–Ω–∞ –∏–¥—ë—Ç –ø–æ Y, –≤—ã—Å–æ—Ç–∞ ‚Äî –ø–æ X
        x2 = y
        y2 = pw - (x + w)
        w2 = h   # ‚úÖ swap
        h2 = w   # ‚úÖ swap
    elif rot == 180:
        x2 = pw - (x + w)
        y2 = ph - (y + h)
        w2 = w
        h2 = h
    elif rot == 270:
        x2 = ph - (y + h)
        y2 = x
        w2 = h   # ‚úÖ swap
        h2 = w   # ‚úÖ swap
```

## üìê **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è**

### **–î–ª—è —Ä–æ—Ç–∞—Ü–∏–∏ 0¬∞:**
```
(x, y, w, h) ‚Üí (x, y, w, h)
```

### **–î–ª—è —Ä–æ—Ç–∞—Ü–∏–∏ 90¬∞:**
```
(x, y, w, h) ‚Üí (y, pw - (x + w), h, w)
```

### **–î–ª—è —Ä–æ—Ç–∞—Ü–∏–∏ 180¬∞:**
```
(x, y, w, h) ‚Üí (pw - (x + w), ph - (y + h), w, h)
```

### **–î–ª—è —Ä–æ—Ç–∞—Ü–∏–∏ 270¬∞:**
```
(x, y, w, h) ‚Üí (ph - (y + h), x, h, w)
```

## üîç **–û—Ç–ª–∞–¥–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**

–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è:

```python
print(f"rot= {int(page.get('/Rotate', 0))}, "
      f"in= ({x:.2f}, {y:.2f}, {w:.2f}, {h:.2f}), "
      f"norm= ({nx:.2f}, {ny:.2f}, {nw:.2f}, {nh:.2f}), "
      f"mb= ({pw:.2f}, {ph:.2f})")
```

## ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç**

### **–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚ùå –ü–µ—á–∞—Ç—å —Å—Ç–∞–Ω–æ–≤–∏–ª–∞—Å—å "—É–∂–∞—Ç–æ–π" –Ω–∞ —Ä–æ—Ç–∞—Ü–∏–∏ 90¬∞/270¬∞
- ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞
- ‚ùå –°–º–µ—â–µ–Ω–∏–µ –≤–Ω–∏–∑ –Ω–∞ –ø–æ–≤–µ—Ä–Ω—É—Ç—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö

### **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –ø–µ—á–∞—Ç–∏ –Ω–∞ –≤—Å–µ—Ö —É–≥–ª–∞—Ö —Ä–æ—Ç–∞—Ü–∏–∏
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ –Ω–µ –∏—Å–∫–∞–∂–∞–µ—Ç—Å—è

## üöÄ **–°—Ç–∞—Ç—É—Å**

**–†–∞–∑–º–µ—Ä—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:**

- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ** w‚Üîh –¥–ª—è 90¬∞/270¬∞
- ‚úÖ **–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã** –¥–ª—è –≤—Å–µ—Ö —É–≥–ª–æ–≤ —Ä–æ—Ç–∞—Ü–∏–∏
- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã** –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéØ

---

*–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ: 12 –∞–≤–≥—É—Å—Ç–∞ 2025*
*–í–µ—Ä—Å–∏—è: 1.0.5 (Dimensions Fixed)* 